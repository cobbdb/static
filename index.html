<!doctype html>
<html>
<head>
    <title>Static - YSI YRI Report Generator</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.3/angular.min.js"></script>
    <script src="//underscorejs.org/underscore-min.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="//www.eyecon.ro/bootstrap-datepicker/css/datepicker.css"></script>
    <script src="scripts.js"></script>

    <link href="//normalize-css.googlecode.com/svn/trunk/normalize.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">

    <script type="text/tpl" id="weekTpl">
| *<%= program %>* | {align:right}{{<%= startDate %> - <%= endDate %>}}{align} | {align:right}<%= totalClosed %>{align} | {align:right}<%= devClosed %>{align} | *{align:right}<%= percent %>%{align}* |
    </script>

    <script type="text/tpl" id="monthTpl">
|| {align:right}total{align} | {align:right}*{{<%= startDate %> - <%= endDate %>}}*{align} | {align:right}*<%= totalClosed %>*{align} | {align:right}*<%= devClosed %>*{align} | {align:right}*<%= percent %>%*{align} |
    </script>

    <script type="text/tpl" id="totalsTpl">
<%= week %>
<%= month %>
    </script>

    <script type="text/tpl" id="summaryTpl">
* <%= today %>: You Ship It, You Run It report update for the week of *<%= startDate %>* to *<%= endDate %>*.
See the full report here: [collaboration:YSI YRI Reports for 2013]
|| Program || Period || Total Closed || Closed by Devs. || Success Rate ||
<%= totals %>
    </script>
</head>
<body ng-app>
    <div class="container hero-unit" ng-controller="StaticController">
        <div style="position: absolute">
            <h1>Static</h1>
            <p>The YSI YRI Report Generator</p>
        </div>
        <div class="row text-right">
            <div class="span2 offset2" style="margin-top: 30px">Program</div>
            <div class="span1" style="margin-top: 30px">Period</div>
            <div class="span1">Total Closed</div>
            <div class="span1">Closed by Devs</div>
            <div class="span1">Success Rate</div>
        </div>
        <div class="text-right program" ng-repeat="program in programs">
            <div class="row" ng-repeat="period in program.data">
                <div ng-switch on="$index">
                    <div ng-switch-when="0">
                        <div class="span2 offset2 program-name">
                            {{ program.name }}
                        </div>
                        <div class="span1 period">
                            {{ period.name }}
                        </div>
                    </div>
                    <div ng-switch-default>
                        <div class="span1 offset4 period">
                            {{ period.name }}
                        </div>
                    </div>
                </div>
                <div class="span1">
                    <input type="number" class="input-mini" ng-model="period.totalClosed">
                </div>
                <div class="span1">
                    <input type="number" class="input-mini" ng-model="period.successfulClosed">
                </div>
                <div class="span1">{{ calculateRow(period) }}%</div>
            </div>
        </div>
        <div class="well well-small">
            <div id="summary" class="text-right row" ng-repeat="period in totals.data">
                <div ng-switch on="$index">
                    <div ng-switch-when="0">
                        <div class="span2 offset2">Totals</div>
                        <div class="span1 period">{{ period.name }}</div>
                    </div>
                    <div ng-switch-default>
                        <div class="span1 offset4 period">
                            {{ period.name }}
                        </div>
                    </div>
                </div>
                <div class="span1">{{ sumTotalClosed(period.id) }}</div>
                <div class="span1">{{ sumSuccessfulClosed(period.id) }}</div>
                <div class="span1">{{ calculateRow(period) }}%</div>
            </div>
            <div class="text-center">
                <input type="button" class="btn btn-large btn-inverse" value="Create Reports">
            </div>
        </div>
    </div>
</body>
</html>
